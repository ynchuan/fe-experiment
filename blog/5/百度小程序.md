# 移动前端开发技术泛谈

## 移动开发组成
前端移动开发一直以来是H5开发，html5规范越来越完善，在浏览器中的支持也越来越好，web h5开发与android/ios原生开发也一起构成了大前端繁荣。

web开发与原生开发各有利弊：

- 原生开发：用户体验流畅，但是开发上线迭代慢，出现问题不便回滚，android与ios需要各自开发；
- web开发：开发规范完善，一套代码跑三端，上线迭代便捷迅速，但是体验流畅性欠佳

客户端开发中，原生及web混合的开发方式在被广泛使用，实现优势互补。

## 类H5开发新方式

web开发的最大优点应该是一套代码跑三端，即一套h5页面代码可以在浏览器，android、ios客户端运行起来，加上BS架构的迭代便捷，前景诱人。但是体验不流畅的问题也让人望而却步。
然而不流畅体验的问题也迎来了春天，浏览器渲染h5页面，其实就是解析一堆html标签，一堆css样式，执行一坨js代码，如果在客户端中实现一套类浏览器处理引擎，采用客户端原生组件模拟浏览器组件，客户端通过原生代码完成类html渲染，就可以实现使用h5的开发方式，在客户端渲染出原生效果，解决流畅性问题，同时也解决客户端两端开发及迭代痛点。

随着移动设备处理速度及内存提升，配合MVVM框架及组件化封装的发展，在开发中内置的MVVM框架，让生产效率得到了迅速的提升。


## 解决方案

目前采用类h5方式开发原生应用的方案已成型，主要有：

- react native
- weex
- 微信小程序
- 百度智能小程序

### react native
facebook 基于MVVM框架React实现的移动端框架，实现类h5开发，一套代码，在客户端中原生渲染，在浏览器中网页渲染。

### weex
阿里基于MVVM框架VUE(rax)实现的移动端框架，实现类h5开发，一套代码，在客户端中原生渲染，在浏览器中网页渲染。

### 微信小程序
腾讯在微信中内置了支持类H5开发的SDK，通过微信开发平台设计了一套权限校验、合作开发、上线等一套完整开发流程，对公众开放，存在的问题是小程序只能在微信APP中运行，未开放浏览器运行方式。

### 百度智能小程序
百度在手百及其合作app中内置了基于MVVM框架SAN实现的移动端类H5开发框架，通过熊掌号设计了一套权限校验、合作开发、上线等一套完整开发流程，尚未对外开放(需要邀请码)，借助百度搜索流量分发可以在app及浏览器中使用。

#### 实现
从运行方式、程序架构来看，百度的智能小程序其实是一个跨小程序/Web 的框架，最终会生成两套页面，在百度平台使用小程序，在浏览器加载H5页面

#### 流量红利
百度将开放包括搜索、信息流等优势产品在内的千亿流量给开发者，让开发者充分享受超级入口带来的流量红利。
在百度搜索上，不管是在已有 H5 站点基础上改造的智能小程序，还是新开发的智能小程序，只要体验好，足够优质，都可以从搜索中获得流量。但是 相比 H5，百度搜索会优先分发智能小程序。目前，百度 App 日活跃用户已突破 1.5 亿，这巨大的流量将会给开发者带来巨大的红利。7 月下旬，新版的百度 App 会开放智能小程序入口，其他的普通浏览器和其合作伙伴 App 也会陆续开放

#### 开发接入
开发者在智能小程序的平台注册以后会自动开通或者绑定一个熊掌号的帐户，在提交和开发智能小程序之后，注意，开发者需要把站长的二级域名映射到智能小程序服务器上，做这个映射以后，开发者就拥有了在自己域名下的智能小程序。百度会自动索引智能小程序，开发者也可以通过阿拉丁结构化数据提交方式在百度搜索和展现。
搜索引擎会自动抓取和理解、索引智能小程序，并且最终给智能小程序导流。如果是在百度 APP 环境下，会通过 Native 加载智能小程序，如果是苹果浏览器和谷歌浏览器，会通过急速框架加载智能小程序 Web 版。


#### 开发
智能小程序采用的是 MVVM 的编程逻辑，整个应用有两层，逻辑层和视图层，逻辑层和视图层是分离的，JS 属于逻辑层，它包括智能小程序的生命周期、响应用户的事件，管理请求的数据，还有各种各样的页面，视图的核心里面定义了容器，其他参见[小程序开发文档](https://smartprogram.baidu.com/docs/develop/tutorial/index/)

## 参考资料
- [百度新发布的智能小程序是什么？](https://mp.weixin.qq.com/s/RxBnfplK1kVQ6tcAK7Ablg)
- [Weex](http://weex.apache.org/cn/guide/)
- [react native](https://reactnative.cn/docs/0.51/getting-started.html)
- [微信小程序](https://developers.weixin.qq.com/miniprogram/introduction/index.html?t=201879)
- [智能小程序](https://smartprogram.baidu.com/docs/develop/tutorial/index/)
